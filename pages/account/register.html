<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <link rel="shortcut icon" href="../../static/img/favicon.ico">
    <title>注册</title>
    <link href="../../static/libs/inspinia/css/bootstrap.min.css" rel="stylesheet">
    <link href="../../static/libs/inspinia/font-awesome/css/font-awesome.css" rel="stylesheet">
    <link href="../../static/libs/inspinia/css/animate.css" rel="stylesheet">
    <link href="../../static/libs/inspinia/css/style.css" rel="stylesheet">
    <link href="../../static/css/main.css" rel="stylesheet">
    <link href="../../static/css/main-form.css" rel="stylesheet">
    <script src="../../static/libs/inspinia/js/respond.src.js"></script>
</head>
<body class="form">
<div class="register-form">
        <span><h1 class="form-signin-heading">Test Manager System</h1></span>
    <form method="post" action="" class="register" id="register-form">
        <label for="email" class="sr-only">Email</label>
        <input name="email" type="text" id="email" class="form-control" placeholder="请输入邮箱" required autofocus>
        <label for="inputUsername" class="sr-only">Username</label>
        <input name="name_cn" type="text" id="inputUsername" class="form-control" placeholder="请用户名" required>
        <label for="department" class="sr-only">部门</label>
        <input name="department" type="text" id="department" class="form-control" placeholder="请输入部门" required>
        <label for="inputPassword" class="sr-only">Password</label>
        <input name="password" type="password" id="inputPassword" class="form-control" placeholder="请输入密码" required>
        <!--<label for="reinputPassword" class="sr-only">Confirm Password</label>-->
        <!--<input name="is_password" type="password" id="reinputPassword" class="form-control" placeholder="请再次输入密码" required>-->
        <p style="color:red" class="hidden">{{error}}</p> <br>
        <button class="btn btn-lg btn-primary btn-block" type="submit" >注册</button>
        <span><a href="login.html">已有帐号？立即登录！</a></span>
    </form>
</div>
<script src="../../static/libs/jquery/jquery.min.js"></script>
<script src="../../static/libs/jquery.validate.min.js"></script>
<!--<script src="../../static/js/main.js"></script>-->
<script src="../../static/js/main-form.js"></script>
<script>
   $(function () {
       // $('#register-form').validate({
       //     rules:{
       //         email:{
       //             required:true,
       //             email:true
       //         },
       //         username:{
       //             required:true,
       //             username:true
       //         },
       //         department:{
       //             required:true,
       //             department:true
       //         },
       //         password:{
       //             required:true,
       //             password:true
       //         },
       //         is_password:{
       //             required:true,
       //             equalTo:'#inputPassword'
       //         },
       //         message:{
       //             password2:{
       //                 eqaulTo:'与第一次输入的密码不一致'
       //             }
       //         },
       //         // errorPlacement: jquery_valid_errorPlacement,
       //         // success: jquery_valid_success,
       //         // highlight: jquery_valid_highlight,
       //         // onfocusout: jquery_valid_onfocusout,
       //         // invalidHandler: jquery_valid_invalidHandler,
       //         // onkeyup: false,
       //         // focusInvalid: true,
       //         // errorElement: 'span',
       $('.btn').click(function(){
           $.ajax({
               type: "post",
               dataType:"json",
               url: "http://127.0.0.1/api/test_manager/account_manager/registered",
               data: $('#register-form').serialize(),
               success: function (data) {
                   window.location.href = '/pages/account/login.html';
               },
               error : function () {
                   alert("注册失败")
               }
           });
       })
   })
</script>
</body>
</html>